# CATLib and VoxLogicA tool chain for Spatial Synthesis

This repository groups experiments being performed about applying CATLib to spatial problems, e.g., synthesising a strategy 
enforcing spatial properties on a topological graph.

## Getting Started

For reproducing the experiments of CATLib described in our paper submitted to ISOLA2022, download the latest jar release, and launch it with:

`java -jar  maze-0.0.1-SNAPSHOT-jar-with-dependencies.jar`

and follow the instructions. The executable class is located under `src/main/java/it/github/contractautomata/maze/twoagentsproblem/AppMazeTwoAgents.java`.
The release also contains the log of reproduction of the jar with the various options. OpenJDK11 or  a compatible version is required.

For running VoxLogicA, first copy the png images generated from the previous step into 

`src/test/java/io/github/contractautomata/maze/resources/twoagentsimages/png`

Then download VoxLogicA 1.0 from here: 

https://github.com/vincenzoml/VoxLogicA/releases/tag/v1.0-experimental 

and unzip it into `src/main/python/io.github.contractautomata.maze/VoxLogicA/binaries` (create the directory `VoxLogicA/binaries` if it does not exist). Then run the python script `src/main/python/io.github.contractautomata.maze/orchestrate.py` which generates a file called `cache.json`. A copy of this file is shipped in the root directory of the aforementioned jar file, with path `experiment2.json` and can be replaced. 


## Video demo
A video demo created using this repository is available at https://youtu.be/08_iok6R9sw.
Each frame of the video has been generated by executing the code in  AppVideoComposition.java
and by incrementing the bound of the call to the composition method. 

All frames are stored in the folder src/test/ ... /resources/video.


## Miscellanea

The JSONConverter for importing graphs of <a href="https://github.com/vincenzoml/VoxLogicA">VoxLogicA</a> encoding bitmap images has been moved into this repository.
A PngConverter is also available for directly importing png images as automata, by-passing the JSon representation.
